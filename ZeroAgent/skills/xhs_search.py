import random
from typing import List, Dict

# ---------------------------------------------------------
# SKILL: XHS HUNTER (å°çº¢ä¹¦çŒæ‰‹)
# ---------------------------------------------------------

def meta():
    return {
        "name": "xhs_hunter",
        "description": "æœç´¢å°çº¢ä¹¦ä¸Šçš„çˆ†æ¬¾ç¬”è®°ä¸çƒ­ç‚¹ã€‚",
        "commands": ["search_xhs", "get_xhs_trends"]
    }

def search_xhs(keyword: str, limit: int = 5) -> List[Dict]:
    """
    æ¨¡æ‹Ÿæœç´¢å°çº¢ä¹¦ç¬”è®°
    """
    print(f"ğŸ” [XHS Hunter] æ­£åœ¨ç‹©çŒå…³é”®è¯: {keyword} ...")
    
    # Mock æ•°æ®ï¼šé’ˆå¯¹ä¸åŒå…³é”®è¯è¿”å›ä¸åŒç±»å‹çš„"çŒç‰©"
    mock_db = {
        "default": [
            {"title": "æ–°æ‰‹ç¼–å‰§å¿…çœ‹ï¼3åˆ†é’Ÿå†™å‡ºçˆ†æ¬¾çŸ­å‰§çš„ä¸‡èƒ½å…¬å¼", "likes": 5000, "content": "å…¬å¼ï¼šé»„é‡‘3ç§’(å†²çª) + 15ç§’(åè½¬)..."},
            {"title": "æ­ç§˜ä¹å·çˆ†æ¬¾å‰§æœ¬ã€Šé—ªå©šåã€‹çš„æ‹†è§£", "likes": 3200, "content": "è¿™éƒ¨å‰§ä¹‹æ‰€ä»¥ç«ï¼Œæ˜¯å› ä¸ºå®ƒæŠŠ'å…ˆå©šåçˆ±'ç»“åˆå¾—å¥½..."},
        ],
        "å®å¦ˆ": [
            {"title": "è¿™å‡ éƒ¨çŸ­å‰§çœ‹å“­ç™¾ä¸‡å®å¦ˆï¼", "likes": 8000, "content": "ã€Šå¸¦å¨ƒé€†è¢­ã€‹ç®€ç›´æ˜¯å¾è¾ˆæ¥·æ¨¡..."},
            {"title": "å…¨èŒå¦ˆå¦ˆå¦‚ä½•é å†™çŸ­å‰§æœˆå…¥è¿‡ä¸‡ï¼Ÿ", "likes": 12000, "content": "åªè¦æŒæ¡è¿™ä¸‰ä¸ªæƒ…æ„Ÿç—›ç‚¹..."},
        ],
        "éœ¸æ€»": [
            {"title": "ç°åœ¨çš„éœ¸æ€»éƒ½ä¸æµè¡Œé«˜å†·äº†ï¼Ÿ", "likes": 4500, "content": "å¿ çŠ¬å‹éœ¸æ€»æ‰æ˜¯æµé‡å¯†ç ï¼"},
            {"title": "ç›˜ç‚¹é‚£äº›è®©äººä¸Šå¤´çš„éœ¸æ€»è¯­å½•", "likes": 6600, "content": "å¥³äººï¼Œä½ æˆåŠŸå¼•èµ·äº†æˆ‘çš„æ³¨æ„..."},
        ]
    }
    
    # ç®€å•çš„å…³é”®è¯åŒ¹é…
    results = mock_db.get("default")
    if "å®å¦ˆ" in keyword:
        results = mock_db.get("å®å¦ˆ")
    elif "éœ¸æ€»" in keyword:
        results = mock_db.get("éœ¸æ€»")
        
    return results[:limit]

def get_xhs_trends() -> List[str]:
    """è·å–å°çº¢ä¹¦å½“å‰çš„çƒ­é—¨çŸ­å‰§è¯é¢˜"""
    trends = ["é“¶å‘éœ¸æ€»", "èŒå®åŠ©æ”»", "çœŸå‡åƒé‡‘", "é‡ç”Ÿå¤ä»‡", "ç©¿è¶Šä¸ƒé›¶"]
    print(f"ğŸ“ˆ [XHS Hunter] å—…æ¢åˆ°å½“å‰çƒ­ç‚¹: {trends}")
    return trends
